(this["webpackJsonpsales-tracker"]=this["webpackJsonpsales-tracker"]||[]).push([[52],{1346:function(e,t,n){"use strict";function c(e){return e.charAt(0).toUpperCase()+e.substr(1)}n.d(t,"a",(function(){return c}))},1376:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(10),a=n(1345),r=n(1346);function i(e,t){var n=e.toLowerCase();return 0===t?Object(r.a)(n):n}function o(e,t){return void 0===t&&(t={}),Object(a.a)(e,Object(c.a)({delimiter:" ",transform:i},t))}},1464:function(e,t,n){var c=n(327),a=n(655);e.exports=function(e,t){return e&&e.length?a(e,c(t,2)):0}},2044:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Q}));var c=n(29),a=n(11),r=n(17),i=n.n(r),o=n(1376),l=n(1),s=n(39),u=(n(1428),n(1464),n(52)),j=n(1318),d=n(1236),b=n(1334),O=n(1223),h=n(1290),f=n(2095),p=n(2096),x=n(2100),v=n(2098),g=n(2099),m=n(1310),P=n(639),S=n(1326),C=n(125),k=n(2087),w=n(23),D=n(434),I=n(1343),y=n(243),R=n(28),U=n(59),N=n(424),T=n(425),L=n(171),B=n(1352),_=n(1339),A=n(26),E=n(1441),W=n(1525),J=n(1526),q=n(0),F=[{id:"invoiceId",label:"Invoice Id",alignRight:!1},{id:"createdAt",label:"Create at",alignRight:!1},{id:"customerName",label:"Customer Name",alignRight:!1},{id:"customerPhone",label:"Customer Phone",alignRight:!1},{id:"grandTotal",label:"Amount",alignRight:!1},{id:"due",label:"Last Due",alignRight:!1},{id:"paid",label:"Paid Status",alignRight:!1},{id:""}];function Q(){var e=Object(U.a)().themeStretch,t=Object(u.a)(),n="light"===t.palette.mode,r=(Object(w.d)(),Object(l.useState)([])),Q=Object(a.a)(r,2),z=Q[0],G=Q[1],H=Object(l.useState)(0),K=Object(a.a)(H,2),M=K[0],V=K[1],X=Object(l.useState)("asc"),Y=Object(a.a)(X,2),Z=Y[0],$=Y[1],ee=Object(l.useState)([]),te=Object(a.a)(ee,2),ne=te[0],ce=te[1],ae=Object(l.useState)(""),re=Object(a.a)(ae,2),ie=re[0],oe=re[1],le=Object(l.useState)(10),se=Object(a.a)(le,2),ue=se[0],je=se[1],de=Object(l.useState)(""),be=Object(a.a)(de,2),Oe=be[0],he=(be[1],Object(l.useState)(0)),fe=Object(a.a)(he,2),pe=fe[0],xe=fe[1],ve=Object(l.useState)(null),ge=Object(a.a)(ve,2),me=ge[0],Pe=ge[1],Se=Object(l.useState)(null),Ce=Object(a.a)(Se,2),ke=Ce[0],we=Ce[1],De=Object(l.useState)(null),Ie=Object(a.a)(De,2),ye=Ie[0],Re=Ie[1],Ue=Object(l.useState)(1),Ne=Object(a.a)(Ue,2),Te=(Ne[0],Ne[1],Object(l.useState)([])),Le=Object(a.a)(Te,2),Be=Le[0],_e=Le[1],Ae=Object(J.a)("all"),Ee=(Ae.currentTab,Ae.onChangeTab,Object(l.useState)()),We=Object(a.a)(Ee,2),Je=We[0],qe=We[1],Fe=Boolean(ye);Object(l.useEffect)((function(){Ke()}),[ue,M,ie,me,ke]);var Qe=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je(parseInt(t.target.value,10)),V(0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(c.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.r)(Be,n);case 2:e.sent,Re(null),Ke();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){Re(null)},Ke=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M*ue,c=ue,e.next=4,Object(D.k)(n,c,ie,me,ke);case 4:(a=e.sent)&&(console.log(a),G(a.data),xe(a.count),qe(a.totalDocData));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=["UnPaid","Paid","Over Due","Cancelled"],Ve=!z.length&&Boolean(!ie),Xe=!z.length&&Boolean(ie),Ye=function(e){if(Je&&Je.length>0){var t=Je.filter((function(t){return t._id===e}));return t[0]?t[0].total:0}},Ze=function(e){if(Je&&Je.length>0){var t=Je.filter((function(t){return t._id===e}));return t[0]?t[0].percentage:0}},$e=function(e){if(Je&&Je.length>0){var t=Je.filter((function(t){return t._id===e}));return t[0]?t[0].price:0}};z.length,Ye("Paid"),Ye("UnPaid"),Ye("Over Due"),Ye("Cancelled");return Object(q.jsx)(N.a,{title:" Invoice List",children:Object(q.jsxs)(j.a,{maxWidth:!e&&"lg",children:[Object(q.jsx)(_.a,{heading:"Invoice List",links:[{name:"Dashboard",href:R.b.root},{name:"Invoice",href:R.b.eCommerce.root},{name:"Invoice List"}],action:Object(q.jsx)(d.a,{variant:"contained",component:s.b,to:R.b.eCommerce.newProduct,startIcon:Object(q.jsx)(A.a,{icon:"eva:plus-fill"}),children:"New Invoice"})}),Object(q.jsx)(b.a,{sx:{mb:5},children:Object(q.jsx)(L.a,{children:Object(q.jsxs)(O.a,{direction:"row",divider:Object(q.jsx)(h.a,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[Object(q.jsx)(W.a,{title:"Total",total:Ye("all"),percent:Ze("all"),price:$e("all"),icon:"ic:round-receipt",color:t.palette.info.main}),Object(q.jsx)(W.a,{title:"Paid",total:Ye("Paid"),percent:Ze("Paid"),price:$e("Paid"),icon:"eva:checkmark-circle-2-fill",color:t.palette.success.main}),Object(q.jsx)(W.a,{title:"Unpaid",total:Ye("UnPaid"),percent:Ze("UnPaid"),price:$e("UnPaid"),icon:"eva:clock-fill",color:t.palette.warning.main}),Object(q.jsx)(W.a,{title:"Over Due",total:Ye("Over Due"),percent:Ze("Over Due"),price:$e("Over Due"),icon:"eva:bell-fill",color:t.palette.error.main}),Object(q.jsx)(W.a,{title:"Cancelled",total:Ye("Cancelled"),percent:Ze("Cancelled"),price:$e("Cancelled"),icon:"eva:file-fill",color:t.palette.text.secondary})]})})}),Object(q.jsxs)(b.a,{children:[Object(q.jsx)(E.b,{numSelected:ne.length,filterName:ie,clearDate:function(){return Pe(null),void we(null)},onFilterName:ze,onDeleteProducts:function(){return function(e){var t=z.filter((function(t){return!e.includes(t.name)}));ce([]),G(t)}(ne)},startDate:me,endDate:ke,placeholder:"Search Invoice",selecteStartdDate:function(e){return Pe(e)},selecteEnddDate:function(e){return we(e)}}),Object(q.jsx)(L.a,{children:Object(q.jsx)(f.a,{sx:{minWidth:800},children:Object(q.jsxs)(p.a,{children:[Object(q.jsx)(E.a,{order:Z,orderBy:Oe,headLabel:F,rowCount:z.length,numSelected:ne.length,onRequestSort:function(e){$(Oe===e&&"asc"===Z?"desc":"asc")}}),Object(q.jsxs)(x.a,{children:[z.map((function(e){var t=e._id,c=e.invoiceId,a=e.customerName,r=e.customerPhone,i=e.invoiceDate,l=e.grandTotal,s=e.due,u=e.paidStatus,j=(e.paymentType,-1!==ne.indexOf(c));return Object(q.jsxs)(v.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:j,"aria-checked":j,children:[Object(q.jsx)(g.a,{padding:"checkbox",children:Object(q.jsx)(m.a,{checked:j,onClick:function(){return function(e){var t=ne.indexOf(e),n=[];-1===t?n=n.concat(ne,e):0===t?n=n.concat(ne.slice(1)):t===ne.length-1?n=n.concat(ne.slice(0,-1)):t>0&&(n=n.concat(ne.slice(0,t),ne.slice(t+1))),ce(n)}(c)}})}),Object(q.jsx)(g.a,{children:c}),Object(q.jsx)(g.a,{style:{minWidth:160},children:Object(I.a)(i)}),Object(q.jsx)(g.a,{children:a}),Object(q.jsx)(g.a,{children:r}),Object(q.jsx)(g.a,{children:Object(y.a)(l)}),Object(q.jsxs)(g.a,{children:[Object(I.a)(i+2592e6*s)," "]}),Object(q.jsxs)(g.a,{children:[Object(q.jsx)(T.a,{variant:n?"ghost":"filled",onClick:function(e){return function(e,t){Re(e.currentTarget),_e(t)}(e,t)},color:("Paid"===u?"success":"UnPaid"===u&&"info")||"Cancelled"===u&&"warning"||"error",children:Object(o.a)(u)}),Object(q.jsx)(P.a,{anchorEl:ye,open:Fe,onClose:He,children:Me.map((function(e,t){return Object(q.jsx)(S.a,{onClick:function(e){return Ge(e,Me[t])},children:e},e)}))})]}),Object(q.jsx)(g.a,{align:"right",children:Object(q.jsx)(E.c,{menu:"eCommerce",productId:t,onDelete:function(){return function(e){var t=z.filter((function(t){return t.id!==e}));ce([]),G(t)}(t)}})})]},t)})),Ve>0&&Object(q.jsx)(v.a,{style:{height:53*Ve},children:Object(q.jsx)(g.a,{align:"center",colSpan:8,children:"No Record"})})]}),Xe&&Object(q.jsx)(x.a,{children:Object(q.jsx)(v.a,{children:Object(q.jsx)(g.a,{align:"center",colSpan:8,children:Object(q.jsx)(C.a,{sx:{py:3},children:Object(q.jsx)(B.a,{searchQuery:ie})})})})})]})})}),Object(q.jsx)(k.a,{rowsPerPageOptions:[5,10,25],component:"div",count:pe,rowsPerPage:ue,page:M,onPageChange:function(e,t){!function(e){V(e)}(t)},onRowsPerPageChange:Qe})]})]})})}}}]);
//# sourceMappingURL=52.50362974.chunk.js.map