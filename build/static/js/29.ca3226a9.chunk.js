(this["webpackJsonpsales-tracker"]=this["webpackJsonpsales-tracker"]||[]).push([[29],{1339:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(3),r=n(25),i=n(128),c=n.n(i),o=n(125),s=n(322),l=n(1238),d=n(39),j=n(1357),u=n(0),b=["links","activeLast"];function h(e){var t=e.links,n=e.activeLast,i=void 0!==n&&n,c=Object(r.a)(e,b),l=t[t.length-1].name,d=t.map((function(e){return Object(u.jsx)(x,{link:e},e.name)})),h=t.map((function(e){return Object(u.jsx)("div",{children:e.name!==l?Object(u.jsx)(x,{link:e}):Object(u.jsx)(s.a,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name)}));return Object(u.jsx)(j.a,Object(a.a)(Object(a.a)({separator:Object(u.jsx)(o.a,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},c),{},{children:i?d:h}))}function x(e){var t=e.link,n=t.href,a=t.name,r=t.icon;return Object(u.jsxs)(l.a,{variant:"body2",component:d.b,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&Object(u.jsx)(o.a,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),a]},a)}var p=["links","action","heading","moreLink","sx"];function O(e){var t=e.links,n=e.action,i=e.heading,d=e.moreLink,j=void 0===d?[]:d,b=e.sx,x=Object(r.a)(e,p);return Object(u.jsxs)(o.a,{sx:Object(a.a)({mb:5},b),children:[Object(u.jsxs)(o.a,{sx:{display:"flex",alignItems:"center"},children:[Object(u.jsxs)(o.a,{sx:{flexGrow:1},children:[Object(u.jsx)(s.a,{variant:"h4",gutterBottom:!0,children:i}),Object(u.jsx)(h,Object(a.a)({links:t},x))]}),n&&Object(u.jsx)(o.a,{sx:{flexShrink:0},children:n})]}),Object(u.jsx)(o.a,{sx:{mt:2},children:c()(j)?Object(u.jsx)(l.a,{href:j,target:"_blank",rel:"noopener",variant:"body2",children:j}):j.map((function(e){return Object(u.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},1343:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var a=n(638),r=(n(1369),n(1375));function i(e){return Object(a.a)(new Date(e),"dd MMMM yyyy")}function c(e){return Object(a.a)(new Date(e),"dd MMM yyyy HH:mm")}function o(e){return Object(a.a)(new Date(e),"dd/MM/yyyy hh:mm p")}function s(e){return Object(r.a)(new Date(e),{addSuffix:!0})}},1348:function(e,t,n){"use strict";var a=n(4),r=n(3),i=n(6),c=n(1306),o=Object(i.a)(c.a,{shouldForwardProp:function(e){return"stretchStart"!==e}})((function(e){var t=e.stretchStart,n=e.theme;return{"& .MuiOutlinedInput-root":Object(r.a)({transition:n.transitions.create(["box-shadow","width"],{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.shorter}),"&.Mui-focused":{boxShadow:n.customShadows.z12}},t&&{width:t,"&.Mui-focused":Object(a.a)({boxShadow:n.customShadows.z12},n.breakpoints.up("sm"),{width:t+60})}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(n.palette.grey[50032]," !important")}}}));t.a=o},1352:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=n(25),i=n(647),c=n(322),o=n(0),s=["searchQuery"];function l(e){var t=e.searchQuery,n=void 0===t?"":t,l=Object(r.a)(e,s);return n?Object(o.jsxs)(i.a,Object(a.a)(Object(a.a)({},l),{},{children:[Object(o.jsx)(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",children:"Not found"}),Object(o.jsxs)(c.a,{variant:"body2",align:"center",children:["No results found for \xa0",Object(o.jsxs)("strong",{children:['"',n,'"']}),". Try checking for typos or using complete words."]})]})):Object(o.jsx)(c.a,{variant:"body2",children:" Please enter keywords"})}},1355:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return O}));var a=n(21),r=n(1223),i=n(1388),c=n(0);var o=n(125);function s(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(i.a,{width:"100%",height:560,variant:"rectangular",sx:{borderRadius:2}}),Object(c.jsxs)(o.a,{sx:{mt:3,display:"flex",alignItems:"center"},children:[Object(c.jsx)(i.a,{variant:"circular",width:64,height:64}),Object(c.jsxs)(o.a,{sx:{flexGrow:1,ml:2},children:[Object(c.jsx)(i.a,{variant:"text",height:20}),Object(c.jsx)(i.a,{variant:"text",height:20}),Object(c.jsx)(i.a,{variant:"text",height:20})]})]})]})}var l=n(1314);function d(){return Object(c.jsxs)(l.a,{container:!0,spacing:3,children:[Object(c.jsx)(l.a,{item:!0,xs:12,md:6,lg:7,children:Object(c.jsx)(i.a,{variant:"rectangular",width:"100%",sx:{paddingTop:"100%",borderRadius:2}})}),Object(c.jsxs)(l.a,{item:!0,xs:12,md:6,lg:5,children:[Object(c.jsx)(i.a,{variant:"circular",width:80,height:80}),Object(c.jsx)(i.a,{variant:"text",height:240}),Object(c.jsx)(i.a,{variant:"text",height:40}),Object(c.jsx)(i.a,{variant:"text",height:40}),Object(c.jsx)(i.a,{variant:"text",height:40})]})]})}function j(){return Object(c.jsxs)(l.a,{item:!0,xs:12,sm:6,md:3,children:[Object(c.jsx)(i.a,{variant:"rectangular",width:"100%",sx:{height:200,borderRadius:2}}),Object(c.jsxs)(o.a,{sx:{display:"flex",mt:1.5},children:[Object(c.jsx)(i.a,{variant:"circular",sx:{width:40,height:40}}),Object(c.jsx)(i.a,{variant:"text",sx:{mx:1,flexGrow:1}})]})]})}var u=n(1334);function b(){return Object(c.jsxs)(u.a,{children:[Object(c.jsx)(i.a,{variant:"rectangular",sx:{paddingTop:"100%"}}),Object(c.jsxs)(r.a,{spacing:2,sx:{p:3},children:[Object(c.jsx)(i.a,{variant:"text",sx:{width:.5}}),Object(c.jsxs)(r.a,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(c.jsxs)(r.a,{direction:"row",children:[Object(c.jsx)(i.a,{variant:"circular",sx:{width:16,height:16}}),Object(c.jsx)(i.a,{variant:"circular",sx:{width:16,height:16}}),Object(c.jsx)(i.a,{variant:"circular",sx:{width:16,height:16}})]}),Object(c.jsx)(i.a,{variant:"text",sx:{width:40}})]})]})]})}var h=n(647);function x(){return Object(c.jsx)(o.a,{sx:{display:"grid",gap:3,gridTemplateColumns:"repeat(4, 1fr)"},children:Object(a.a)(Array(3)).map((function(e,t){return Object(c.jsx)(h.a,{variant:"outlined",sx:{p:2.5,width:310},children:Object(c.jsxs)(r.a,{spacing:2,children:[Object(c.jsx)(i.a,{variant:"rectangular",sx:{paddingTop:"75%",borderRadius:1.5}}),0===t&&Object(c.jsx)(i.a,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}}),2!==t&&Object(c.jsx)(i.a,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}})]})},t)}))})}function p(){return Object(c.jsxs)(r.a,{spacing:1,direction:"row",alignItems:"center",sx:{px:3,py:1},children:[Object(c.jsx)(i.a,{variant:"circular",width:32,height:32}),Object(c.jsx)(i.a,{variant:"text",sx:{width:.25,height:16}})]})}function O(){return Object(c.jsxs)(r.a,{spacing:1,direction:"row",alignItems:"center",sx:{px:3,py:1.5},children:[Object(c.jsx)(i.a,{variant:"circular",width:48,height:48}),Object(c.jsxs)(r.a,{spacing:.5,sx:{flexGrow:1},children:[Object(c.jsx)(i.a,{variant:"text",sx:{width:.5,height:16}}),Object(c.jsx)(i.a,{variant:"text",sx:{width:.25,height:12}})]})]})}},1363:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(25),r=n(3),i=n(1),c=n(1427),o=n(52),s=n(47),l=n(1231),d=n(322),j=n(0),u=["images","photoIndex","setPhotoIndex","isOpen"];function b(){var e=Object(o.a)(),t="rtl"===e.direction,n=e.palette.grey[600].replace("#",""),a=function(e){return"url(https://api.iconify.design/carbon/".concat(e,".svg?color=%23").concat(n,"&width=").concat(32,"&height=").concat(32,")")},i=function(t){return{opacity:1,alignItems:"center",display:"inline-flex",justifyContent:"center",backgroundImage:"unset",backgroundColor:"transparent",transition:e.transitions.create("opacity"),"&:before":{display:"block",width:32,height:32,content:a(t)},"&:hover":{opacity:.72}}};return Object(j.jsx)(l.a,{styles:{"& .ReactModalPortal":{"& .ril__outer":{backgroundColor:Object(s.a)(e.palette.grey[900],.96)},"& .ril__toolbar":{height:"auto !important",padding:e.spacing(2,3),backgroundColor:"transparent"},"& .ril__toolbarLeftSide":{display:"none"},"& .ril__toolbarRightSide":{height:"auto !important",padding:0,flexGrow:1,display:"flex",alignItems:"center","& li":{display:"flex",alignItems:"center"},"& li:first-of-type":{flexGrow:1},"& li:not(:first-of-type)":{width:40,height:40,justifyContent:"center",marginLeft:e.spacing(2)}},"& button:focus":{outline:"none"},"& .ril__toolbarRightSide button":{width:"100%",height:"100%","&.ril__zoomInButton":i("zoom-in"),"&.ril__zoomOutButton":i("zoom-out"),"&.ril__closeButton":i("close")},"& .ril__navButtons":{padding:e.spacing(3),"&.ril__navButtonPrev":Object(r.a)({right:"auto",left:e.spacing(2)},i(t?"arrow-right":"arrow-left")),"&.ril__navButtonNext":Object(r.a)({left:"auto",right:e.spacing(2)},i(t?"arrow-left":"arrow-right"))}}}})}function h(e){var t=e.images,n=e.photoIndex,o=e.setPhotoIndex,s=e.isOpen,l=Object(a.a)(e,u);Object(i.useEffect)((function(){document.body.style.overflow=s?"hidden":"unset"}),[s]);var h=[Object(j.jsx)(d.a,{variant:"subtitle2",children:"".concat(n+1," / ").concat(t.length)})];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{}),s&&Object(j.jsx)(c.a,Object(r.a)({animationDuration:160,nextSrc:t[(n+1)%t.length],prevSrc:t[(n+t.length-1)%t.length],onMovePrevRequest:function(){return o((n+t.length-1)%t.length)},onMoveNextRequest:function(){return o((n+1)%t.length)},toolbarButtons:h,reactModalStyle:{overlay:{zIndex:9999}}},l))]})}},1502:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(11),r=n(25),i=n(3),c=(n(1627),n(1630)),o=n(1),s=n(6),l=n(52),d=n(125),j=n(1230),u=n(646),b=n(73),h=n(26),x=n(0),p=["disabled","value","setValue","alignRight"],O=Object(s.a)(d.a)({position:"relative"}),f=Object(s.a)("div")((function(e){var t=e.theme;return{bottom:40,overflow:"hidden",position:"absolute",left:t.spacing(-2),boxShadow:t.customShadows.z20,borderRadius:2*Number(t.shape.borderRadius),"& .emoji-mart":{border:"none",backgroundColor:t.palette.background.paper},"& .emoji-mart-anchor":{color:t.palette.text.disabled,"&:hover, &:focus, &.emoji-mart-anchor-selected":{color:t.palette.text.primary}},"& .emoji-mart-bar":{borderColor:t.palette.divider},"& .emoji-mart-search input":{backgroundColor:"transparent",color:t.palette.text.primary,borderColor:t.palette.grey[50032],"&::placeholder":Object(i.a)(Object(i.a)({},t.typography.body2),{},{color:t.palette.text.disabled})},"& .emoji-mart-search-icon svg":{opacity:1,fill:t.palette.text.disabled},"& .emoji-mart-category-label span":Object(i.a)(Object(i.a)(Object(i.a)({},t.typography.subtitle2),Object(b.a)().bgBlur({color:t.palette.background.paper})),{},{color:t.palette.text.primary}),"& .emoji-mart-title-label":{color:t.palette.text.primary},"& .emoji-mart-category .emoji-mart-emoji:hover:before":{backgroundColor:t.palette.action.selected},"& .emoji-mart-emoji":{outline:"none"},"& .emoji-mart-preview-name":{color:t.palette.text.primary},"& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon":{color:t.palette.text.secondary}}}));function g(e){var t,n=e.disabled,s=e.value,d=e.setValue,b=e.alignRight,g=void 0!==b&&b,m=Object(r.a)(e,p),v=Object(l.a)(),y=Object(o.useState)(!1),w=Object(a.a)(y,2),k=w[0],C=w[1];k&&(t=Object(x.jsx)(c.a,{color:v.palette.primary.main,title:"Pick your emoji\u2026",emoji:"point_up",onSelect:function(e){return d(s+(null===e||void 0===e?void 0:e.native))}}));return Object(x.jsx)(j.a,{onClickAway:function(){C(!1)},children:Object(x.jsxs)(O,Object(i.a)(Object(i.a)({},m),{},{children:[Object(x.jsx)(f,{sx:Object(i.a)({},g&&{right:-2,left:"auto !important"}),children:t}),Object(x.jsx)(u.a,{disabled:n,size:"small",onClick:function(e){e.preventDefault(),C(!k)},children:Object(x.jsx)(h.a,{icon:"eva:smiling-face-fill",width:20,height:20})})]}))})}},1504:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f}));var a=n(126),r=n(26),i=n(0),c=["jpg","jpeg","gif","bmp","png"],o=["m4v","avi","mpg","mp4","webm"],s=["doc","docx"],l=["xls","xlsx"],d=["ppt","pptx"],j=["pdf"],u=["psd"],b=["ai","esp"];function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&e.split(".").pop()||""}function x(e){return e.substring(e.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"")}function p(e){return e.split("/").pop()}var O=function(e){return Object(i.jsx)(a.a,{src:"https://minimal-assets-api.vercel.app/assets/icons/file/".concat(e,".svg"),alt:e,sx:{width:28,height:28}})};function f(e){var t;switch(function(e){var t;switch(e.includes(h(e))){case c.includes(h(e)):t="image";break;case o.includes(h(e)):t="video";break;case s.includes(h(e)):t="word";break;case l.includes(h(e)):t="excel";break;case d.includes(h(e)):t="powerpoint";break;case j.includes(h(e)):t="pdf";break;case u.includes(h(e)):t="photoshop";break;case b.includes(h(e)):t="illustrator";break;default:t=h(e)}return t}(e)){case"video":t=O("format_video");break;case"word":t=O("format_word");break;case"excel":t=O("format_excel");break;case"powerpoint":t=O("format_powerpoint");break;case"pdf":t=O("format_pdf");break;case"photoshop":t=O("format_photoshop");break;case"illustrator":t=O("format_ai");break;case"image":t=Object(i.jsx)(a.a,{src:e,alt:e,sx:{height:1}});break;default:t=Object(i.jsx)(r.a,{icon:"eva:file-fill",sx:{width:28,height:28}})}return t}},1505:function(e,t,n){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}n.d(t,"a",(function(){return a}))},2056:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return pt}));var a=n(1),r=n(1318),i=n(1334),c=n(23),o=n(456),s=n(28),l=n(59),d=n(424),j=n(1339),u=n(11),b=n(3),h=n(6),x=n(52),p=n(646),O=n(1290),f=n(125),g=n(1323),m=n(71),v=n(26),y=n(2e3),w=n.n(y),k=n(675),C=n.n(k),I=n(1236),S=n(1241),R=n(322),M=n(1343),P=n(1504),T=n(171),_=n(0),W=Object(h.a)("div")((function(e){return{flexGrow:1,height:"100%",display:"flex",overflow:"hidden",flexDirection:"column",paddingBottom:e.theme.spacing(2)}})),z=Object(h.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",marginTop:t.spacing(2),padding:t.spacing(0,2.5)}})),A=Object(h.a)("div")((function(e){var t=e.theme;return{width:40,height:40,flexShrink:0,display:"flex",overflow:"hidden",alignItems:"center",justifyContent:"center",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[50016]}})),D=Object(h.a)(I.a)((function(e){var t=e.theme;return Object(b.a)(Object(b.a)({},t.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function F(e){var t=e.conversation,n=e.isCollapse,a=e.onCollapse,r=w()(C()(t.messages.map((function(e){return e.attachments})))).length;return Object(_.jsxs)(W,{children:[Object(_.jsxs)(D,{fullWidth:!0,color:"inherit",onClick:a,endIcon:Object(_.jsx)(v.a,{icon:n?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:["attachment (",r,")"]}),!n&&Object(_.jsx)(O.a,{}),Object(_.jsx)(T.a,{children:Object(_.jsx)(S.a,{in:n,children:t.messages.map((function(e){return Object(_.jsx)("div",{children:e.attachments.map((function(t){return Object(_.jsx)(E,{file:e,fileUrl:t},t)}))},e.id)}))})})]})}function E(e){var t=e.file,n=e.fileUrl;return Object(_.jsxs)(z,{children:[Object(_.jsx)(A,{children:Object(P.c)(n)}),Object(_.jsxs)(f.a,{sx:{ml:1.5,maxWidth:150},children:[Object(_.jsx)(R.a,{variant:"body2",noWrap:!0,children:Object(P.a)(n)}),Object(_.jsx)(R.a,{noWrap:!0,variant:"caption",sx:{color:"text.secondary",display:"block"},children:Object(M.b)(t.createdAt)})]})]},n)}var L=n(21),B=n(648),G=Object(h.a)(I.a)((function(e){var t=e.theme;return Object(b.a)(Object(b.a)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})})),N=Object(h.a)("div")((function(e){return{display:"flex",margin:e.theme.spacing(1.5,0)}})),U=Object(h.a)(v.a)((function(e){var t=e.theme;return{width:16,height:16,marginTop:4,marginRight:t.spacing(1),color:t.palette.text.secondary}})),q=Object(h.a)(R.a)((function(e){var t=e.theme;return Object(b.a)({flexGrow:1,maxWidth:160,wordWrap:"break-word"},t.typography.body2)}));function H(e){var t=e.participants,n=e.isCollapse,a=e.onCollapse,r=Object(L.a)(t)[0];return void 0===r?null:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(f.a,{sx:{pt:4,pb:3,display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(_.jsx)(B.a,{alt:r.name,src:r.avatar,sx:{width:96,height:96}}),Object(_.jsxs)(f.a,{sx:{mt:2,textAlign:"center"},children:[Object(_.jsx)(R.a,{variant:"subtitle1",children:r.name}),Object(_.jsx)(R.a,{variant:"body2",sx:{color:"text.secondary"},children:r.position})]})]}),Object(_.jsx)(O.a,{}),Object(_.jsx)(G,{fullWidth:!0,color:"inherit",onClick:a,endIcon:Object(_.jsx)(v.a,{icon:n?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:"information"}),Object(_.jsx)(S.a,{in:n,children:Object(_.jsxs)(f.a,{sx:{px:2.5,pb:1},children:[Object(_.jsxs)(N,{children:[Object(_.jsx)(U,{icon:"eva:pin-fill"}),Object(_.jsx)(q,{children:r.address})]}),Object(_.jsxs)(N,{children:[Object(_.jsx)(U,{icon:"eva:phone-fill"}),Object(_.jsx)(q,{children:r.phone})]}),Object(_.jsxs)(N,{children:[Object(_.jsx)(U,{icon:"eva:email-fill"}),Object(_.jsx)(q,{children:r.email})]})]})})]})}var Q=n(1319),V=n(1295),Y=n(2021),J=n(1296),K=n(25),X=["size","status"],$=Object(h.a)("span")((function(e){var t=e.theme,n=e.ownerState,a=n.status,r=n.size;return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({width:10,height:10,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center","&:before, &:after":{content:"''",borderRadius:1,backgroundColor:t.palette.common.white}},"small"===r&&{width:8,height:8}),"large"===r&&{width:12,height:12}),"offline"===a&&{backgroundColor:"transparent"}),"away"===a&&{backgroundColor:t.palette.warning.main,"&:before":{width:2,height:4,transform:"translateX(1px) translateY(-1px)"},"&:after":{width:2,height:4,transform:"translateY(1px) rotate(125deg)"}}),"busy"===a&&{backgroundColor:t.palette.error.main,"&:before":{width:6,height:2}}),"online"===a&&{backgroundColor:t.palette.success.main}),"invisible"===a&&{backgroundColor:t.palette.text.disabled,"&:before":{width:6,height:6,borderRadius:"50%"}}),"unread"===a&&{backgroundColor:t.palette.info.main})}));function Z(e){var t=e.size,n=void 0===t?"medium":t,a=e.status,r=void 0===a?"offline":a,i=Object(K.a)(e,X);return Object(_.jsx)($,Object(b.a)({ownerState:{status:r,size:n}},i))}var ee=n(1331),te=n(51),ne=Object(h.a)("div")((function(e){return{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.theme.spacing(1.5)}}));function ae(e){var t=e.participant,n=e.isOpen,a=e.onClose,r=t.name,i=t.avatar,c=t.position,o=t.address,s=t.phone,l=t.email;return Object(_.jsx)(te.a,{fullWidth:!0,maxWidth:"xs",open:n,onClose:a,children:Object(_.jsxs)(ee.a,{sx:{pb:5,textAlign:"center"},children:[Object(_.jsx)(B.a,{alt:r,src:i,sx:{mt:5,mb:2,mx:"auto",width:96,height:96}}),Object(_.jsx)(R.a,{variant:"h6",children:r}),Object(_.jsx)(R.a,{variant:"body2",paragraph:!0,sx:{color:"text.secondary"},children:c}),Object(_.jsxs)(ne,{children:[Object(_.jsx)(v.a,{icon:"eva:pin-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),Object(_.jsx)(R.a,{variant:"body2",children:o})]}),Object(_.jsxs)(ne,{children:[Object(_.jsx)(v.a,{icon:"eva:phone-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),Object(_.jsx)(R.a,{variant:"body2",children:s})]}),Object(_.jsxs)(ne,{children:[Object(_.jsx)(v.a,{icon:"eva:email-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),Object(_.jsx)(R.a,{variant:"body2",children:l})]})]})})}var re=Object(h.a)(I.a)((function(e){var t=e.theme;return Object(b.a)(Object(b.a)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function ie(e){var t=e.participants,n=e.selectUserId,a=e.onShowPopupUserInfo,r=e.isCollapse,i=e.onCollapse;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(re,{fullWidth:!0,disableRipple:!0,color:"inherit",onClick:i,endIcon:Object(_.jsx)(v.a,{icon:r?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:["In room (",t.length,")"]}),Object(_.jsx)(f.a,{sx:{height:r?256:0},children:Object(_.jsx)(T.a,{children:Object(_.jsx)(S.a,{in:r,sx:{height:r?256:0},children:Object(_.jsx)(Q.a,{disablePadding:!0,children:t.map((function(e){return Object(_.jsx)(ce,{participant:e,isOpen:n===e.id,onShowPopup:function(){return a(e.id)},onClosePopup:function(){return a(null)}},e.id)}))})})})})]})}function ce(e){var t=e.participant,n=e.isOpen,a=e.onClosePopup,r=e.onShowPopup,i=t.name,c=t.avatar,o=t.status,s=t.position;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(V.a,{onClick:r,sx:{height:64,px:2.5},children:[Object(_.jsx)(Y.a,{children:Object(_.jsxs)(f.a,{sx:{position:"relative",width:40,height:40},children:[Object(_.jsx)(B.a,{alt:i,src:c}),Object(_.jsx)(Z,{status:o,sx:{right:0,bottom:0,position:"absolute"}})]})}),Object(_.jsx)(J.a,{primary:i,secondary:s,primaryTypographyProps:{variant:"subtitle2",noWrap:!0},secondaryTypographyProps:{noWrap:!0}})]}),Object(_.jsx)(ae,{participant:t,isOpen:n,onClose:a})]})}var oe=Object(h.a)((function(e){return Object(_.jsx)(p.a,Object(b.a)({disableRipple:!0},e))}))((function(e){var t=e.theme;return{right:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(1),boxShadow:t.customShadows.z8,backgroundColor:t.palette.background.paper,border:"solid 1px ".concat(t.palette.divider),borderRight:0,borderRadius:"12px 0 0 12px",transition:t.transitions.create("all"),"&:hover":{backgroundColor:t.palette.background.neutral}}})),se=240;function le(e){var t=e.conversation,n=e.participants,r=Object(x.a)(),i=Object(a.useState)(!0),c=Object(u.a)(i,2),o=c[0],s=c[1],l=Object(a.useState)(!0),d=Object(u.a)(l,2),j=d[0],h=d[1],p=Object(a.useState)(null),y=Object(u.a)(p,2),w=y[0],k=y[1],C=Object(a.useState)(!0),I=Object(u.a)(C,2),S=I[0],R=I[1],M=Object(a.useState)(!0),P=Object(u.a)(M,2),T=P[0],W=P[1],z=Object(m.a)("up","lg"),A=n.length>1;Object(a.useEffect)((function(){return z?D():E()}),[z]);var D=function(){s(!0)},E=function(){s(!1)},L=Object(_.jsxs)(_.Fragment,{children:[A?Object(_.jsx)(ie,{selectUserId:w,participants:n,isCollapse:T,onShowPopupUserInfo:function(e){return k(e)},onCollapse:function(){return W((function(e){return!e}))}}):Object(_.jsx)("div",{children:Object(_.jsx)(H,{participants:n,isCollapse:j,onCollapse:function(){return h((function(e){return!e}))}})}),Object(_.jsx)(O.a,{}),Object(_.jsx)(F,{conversation:t,isCollapse:S,onCollapse:function(){return R((function(e){return!e}))}})]});return Object(_.jsxs)(f.a,{sx:{position:"relative"},children:[Object(_.jsx)(oe,{onClick:function(){s((function(e){return!e}))},sx:Object(b.a)({},o&&z&&{right:se}),children:Object(_.jsx)(v.a,{width:16,height:16,icon:o?"eva:arrow-ios-forward-fill":"eva:arrow-ios-back-fill"})}),z?Object(_.jsx)(g.a,{open:o,anchor:"right",variant:"persistent",sx:Object(b.a)(Object(b.a)({height:1,width:se,transition:r.transitions.create("width")},!o&&{width:"0px"}),{},{"& .MuiDrawer-paper":{position:"static",width:se}}),children:L}):Object(_.jsx)(g.a,{anchor:"right",ModalProps:{keepMounted:!0},open:o,onClose:E,sx:{"& .MuiDrawer-paper":{width:se}},children:L})]})}var de=n(29),je=n(17),ue=n.n(je),be=n(35),he=n(1223),xe=n(1363),pe=n(2110),Oe=n(126),fe=Object(h.a)("div")((function(e){return{display:"flex",marginBottom:e.theme.spacing(3)}})),ge=Object(h.a)("div")((function(e){var t=e.theme;return{maxWidth:320,padding:t.spacing(1.5),marginTop:t.spacing(.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral}})),me=Object(h.a)(R.a)((function(e){var t=e.theme;return{display:"flex",marginBottom:t.spacing(.75),color:t.palette.text.secondary}}));function ve(e){var t=e.message,n=e.conversation,a=e.onOpenLightbox,r=n.participants.find((function(e){return e.id===t.senderId})),i="8864c717-587d-472a-929a-8e5f298024da-0"===t.senderId?{type:"me"}:{avatar:null===r||void 0===r?void 0:r.avatar,name:null===r||void 0===r?void 0:r.name},c="me"===i.type,o="image"===t.contentType,s=i.name&&i.name.split(" ")[0];return Object(_.jsx)(fe,{children:Object(_.jsxs)(f.a,{sx:Object(b.a)({display:"flex"},c&&{ml:"auto"}),children:["me"!==i.type&&Object(_.jsx)(B.a,{alt:i.name,src:i.avatar,sx:{width:32,height:32,mr:2}}),Object(_.jsxs)("div",{children:[Object(_.jsxs)(me,{variant:"caption",sx:Object(b.a)({},c&&{justifyContent:"flex-end"}),children:[!c&&"".concat(s,","),"\xa0",Object(pe.a)(new Date(t.createdAt),{addSuffix:!0})]}),Object(_.jsx)(ge,{sx:Object(b.a)(Object(b.a)({},c&&{color:"grey.800",bgcolor:"primary.lighter"}),o&&{p:0}),children:o?Object(_.jsx)(Oe.a,{alt:"attachment",src:t.body,onClick:function(){return a(t.body)},sx:{borderRadius:1,cursor:"pointer","&:hover":{opacity:.8}}}):Object(_.jsx)(R.a,{variant:"body2",children:t.body})})]})]})})}function ye(e){var t=e.conversation,n=Object(a.useRef)(null),r=Object(a.useState)(!1),i=Object(u.a)(r,2),c=i[0],o=i[1],s=Object(a.useState)(0),l=Object(u.a)(s,2),d=l[0],j=l[1];Object(a.useEffect)((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[t.messages]);var b=t.messages.filter((function(e){return"image"===e.contentType})).map((function(e){return e.body})),h=function(e){var t=b.findIndex((function(t){return t===e}));o(!0),j(t)};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(T.a,{scrollableNodeProps:{ref:n},sx:{p:3,height:1},children:t.messages.map((function(e){return Object(_.jsx)(ve,{message:e,conversation:t,onOpenLightbox:h},e.id)}))}),Object(_.jsx)(xe.a,{images:b,mainSrc:b[d],photoIndex:d,setPhotoIndex:j,isOpen:c,onCloseRequest:function(){return o(!1)}})]})}var we=n(1419),ke=n(2022),Ce=n(1238),Ie=Object(h.a)("div")((function(e){return{flexShrink:0,minHeight:92,display:"flex",alignItems:"center",padding:e.theme.spacing(0,3)}}));function Se(e){var t=e.participants,n=t.length>1;return Object(_.jsxs)(Ie,{children:[n?Object(_.jsx)(Me,{participants:t}):Object(_.jsx)(Re,{participants:t}),Object(_.jsx)(f.a,{sx:{flexGrow:1}}),Object(_.jsx)(p.a,{children:Object(_.jsx)(v.a,{icon:"eva:phone-fill",width:20,height:20})}),Object(_.jsx)(p.a,{children:Object(_.jsx)(v.a,{icon:"eva:video-fill",width:20,height:20})}),Object(_.jsx)(p.a,{children:Object(_.jsx)(v.a,{icon:"eva:more-vertical-fill",width:20,height:20})})]})}function Re(e){var t=e.participants,n=Object(L.a)(t)[0];return void 0!==n&&n.status?Object(_.jsxs)(f.a,{sx:{display:"flex",alignItems:"center"},children:[Object(_.jsxs)(f.a,{sx:{position:"relative"},children:[Object(_.jsx)(B.a,{src:n.avatar,alt:n.name}),Object(_.jsx)(Z,{status:n.status,sx:{position:"absolute",right:2,bottom:2}})]}),Object(_.jsxs)(f.a,{sx:{ml:2},children:[Object(_.jsx)(R.a,{variant:"subtitle2",children:n.name}),Object(_.jsx)(R.a,{variant:"body2",sx:{color:"text.secondary"},children:"offline"!==n.status?Object(we.a)(n.status):Object(M.d)(n.lastActivity||"")})]})]}):null}function Me(e){var t=e.participants;return Object(_.jsxs)("div",{children:[Object(_.jsx)(ke.a,{max:3,sx:{mb:.5,"& .MuiAvatar-root":{width:32,height:32}},children:t.map((function(e){return Object(_.jsx)(B.a,{alt:e.name,src:e.avatar},e.id)}))}),Object(_.jsx)(Ce.a,{variant:"body2",underline:"none",component:"button",color:"text.secondary",onClick:function(){},children:Object(_.jsxs)(f.a,{sx:{display:"flex",alignItems:"center"},children:[t.length," persons",Object(_.jsx)(v.a,{icon:"eva:arrow-ios-forward-fill"})]})})]})}var Pe=n(1298),Te=n(1242),_e=n(1505),We=n(1502),ze=Object(h.a)("div")((function(e){return{minHeight:56,display:"flex",position:"relative",alignItems:"center",paddingLeft:e.theme.spacing(2)}}));function Ae(e){var t=e.disabled,n=e.conversationId,r=e.onSend,i=Object(a.useRef)(null),c=Object(a.useState)(""),o=Object(u.a)(c,2),s=o[0],l=o[1],d=function(){var e;null===(e=i.current)||void 0===e||e.click()},j=function(){return s?(r&&n&&r({conversationId:n,messageId:Object(_e.a)(),message:s,contentType:"text",attachments:[],createdAt:new Date,senderId:"8864c717-587d-472a-929a-8e5f298024da-0"}),l("")):""};return Object(_.jsxs)(ze,{children:[Object(_.jsx)(Pe.a,{disabled:t,fullWidth:!0,value:s,disableUnderline:!0,onKeyUp:function(e){"Enter"===e.key&&j()},onChange:function(e){return l(e.target.value)},placeholder:"Type a message",startAdornment:Object(_.jsx)(Te.a,{position:"start",children:Object(_.jsx)(We.a,{disabled:t,value:s,setValue:l})}),endAdornment:Object(_.jsxs)(he.a,{direction:"row",spacing:1,sx:{flexShrink:0,mr:1.5},children:[Object(_.jsx)(p.a,{disabled:t,size:"small",onClick:d,children:Object(_.jsx)(v.a,{icon:"ic:round-add-photo-alternate",width:22,height:22})}),Object(_.jsx)(p.a,{disabled:t,size:"small",onClick:d,children:Object(_.jsx)(v.a,{icon:"eva:attach-2-fill",width:22,height:22})}),Object(_.jsx)(p.a,{disabled:t,size:"small",children:Object(_.jsx)(v.a,{icon:"eva:mic-fill",width:22,height:22})})]})}),Object(_.jsx)(O.a,{orientation:"vertical",flexItem:!0}),Object(_.jsx)(p.a,{color:"primary",disabled:!s,onClick:j,sx:{mx:1},children:Object(_.jsx)(v.a,{icon:"ic:round-send",width:22,height:22})}),Object(_.jsx)("input",{type:"file",ref:i,style:{display:"none"}})]})}var De=n(1377),Fe=n.n(De),Ee=n(1378),Le=n.n(Ee),Be=n(47),Ge=n(2085),Ne=n(2018),Ue=n(1306),qe=n(1352),He=Object(h.a)("div")((function(e){return{display:"flex",alignItems:"center",padding:e.theme.spacing(2,3)}})),Qe=Object(h.a)("div")((function(e){var t=e.theme;return{"& .MuiAutocomplete-root":{minWidth:280,marginLeft:t.spacing(2),"&.Mui-focused .MuiAutocomplete-inputRoot":{boxShadow:t.customShadows.z8}},"& .MuiAutocomplete-inputRoot":{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}}));function Ve(e){var t=e.contacts,n=e.recipients,r=e.onAddRecipients,i=Object(a.useState)(""),c=Object(u.a)(i,2),o=c[0],s=c[1];return Object(_.jsxs)(He,{children:[Object(_.jsx)(R.a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"To:"}),Object(_.jsx)(Qe,{children:Object(_.jsx)(Ge.a,{multiple:!0,size:"small",disablePortal:!0,popupIcon:null,noOptionsText:Object(_.jsx)(qe.a,{searchQuery:o}),onChange:function(e,t){return function(e){s(""),r(e)}(t)},onInputChange:function(e,t){return s(t)},options:t,getOptionLabel:function(e){return e.name},renderOption:function(e,t,n){var a=n.inputValue,r=n.selected,i=t.name,c=t.avatar,o=Le()(i,a),s=Fe()(i,o);return Object(_.jsxs)(f.a,Object(b.a)(Object(b.a)({component:"li",sx:{p:"12px !important"}},e),{},{children:[Object(_.jsxs)(f.a,{sx:{mr:1.5,width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[Object(_.jsx)(B.a,{alt:i,src:c}),Object(_.jsx)(f.a,{sx:Object(b.a)({top:0,opacity:0,width:"100%",height:"100%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",bgcolor:function(e){return Object(Be.a)(e.palette.grey[900],.8)},transition:function(e){return e.transitions.create("opacity",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.shorter})}},r&&{opacity:1,color:"primary.main"}),children:Object(_.jsx)(v.a,{icon:"eva:checkmark-fill",width:20,height:20})})]}),s.map((function(e,t){return Object(_.jsx)(R.a,{variant:"subtitle2",color:e.highlight?"primary":"textPrimary",children:e.text},t)}))]}))},renderTags:function(e,t){return e.map((function(e,n){var r=e.id,i=e.name,c=e.avatar;return Object(a.createElement)(Ne.a,Object(b.a)(Object(b.a)({},t({index:n})),{},{key:r,size:"small",label:i,color:"info",avatar:Object(_.jsx)(B.a,{alt:i,src:c})}))}))},renderInput:function(e){return Object(_.jsx)(Ue.a,Object(b.a)(Object(b.a)({},e),{},{placeholder:0===n.length?"Recipients":""}))}})})]})}function Ye(){var e=Object(c.d)(),t=Object(be.g)(),n=Object(be.f)().pathname,r=Object(be.h)().conversationKey,i=Object(c.e)((function(e){return e.chat})),l=i.contacts,d=i.recipients,j=i.participants,u=i.activeConversationId,b=Object(c.e)((function(e){return function(e){var t=e.chat,n=t.conversations,a=t.activeConversationId,r=a?n.byId[a]:null;return r||{id:"",messages:[],participants:[],unreadCount:0,type:""}}(e)})),h=r?"DETAIL":"COMPOSE",x=j.filter((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));Object(a.useEffect)((function(){var n=function(){var n=Object(de.a)(ue.a.mark((function n(){return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(Object(o.f)(r)),n.prev=1,n.next=4,e(Object(o.d)(r));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0),t(s.b.chat.new);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}();r?n():u&&e(Object(o.i)())}),[r]),Object(a.useEffect)((function(){u&&e(Object(o.g)(u))}),[e,u]);var p=function(){var t=Object(de.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e(Object(o.h)(n))}catch(a){console.error(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsxs)(he.a,{sx:{flexGrow:1,minWidth:"1px"},children:["DETAIL"===h?Object(_.jsx)(Se,{participants:x}):Object(_.jsx)(Ve,{recipients:d,contacts:Object.values(l.byId),onAddRecipients:function(t){e(Object(o.a)(t))}}),Object(_.jsx)(O.a,{}),Object(_.jsxs)(f.a,{sx:{flexGrow:1,display:"flex",overflow:"hidden"},children:[Object(_.jsxs)(he.a,{sx:{flexGrow:1},children:[Object(_.jsx)(ye,{conversation:b}),Object(_.jsx)(O.a,{}),Object(_.jsx)(Ae,{conversationId:u,onSend:p,disabled:n===s.b.chat.new})]}),"DETAIL"===h&&Object(_.jsx)(le,{conversation:b,participants:x})]})]})}var Je=n(1239),Ke=n(1326),Xe=n(1311),$e=n(90),Ze=n(253),et=n(432),tt=["online","invisible","away"];function nt(){var e=Object($e.a)().user,t=Object(a.useState)("online"),n=Object(u.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(null),o=Object(u.a)(c,2),s=o[0],l=o[1],d={mr:2,width:20,height:20};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(f.a,{sx:{position:"relative"},children:[Object(_.jsx)(Ze.a,{onClick:function(e){l(e.currentTarget)},sx:{cursor:"pointer",width:48,height:48}}),Object(_.jsx)(Z,{status:r,sx:{position:"absolute",bottom:2,right:2}})]}),Object(_.jsxs)(et.a,{open:Boolean(s),anchorEl:s,onClose:function(){l(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},arrow:"left-top",sx:{p:0,ml:.5,width:"auto"},children:[Object(_.jsxs)(he.a,{direction:"row",alignItems:"center",spacing:2,sx:{py:2,pr:1,pl:2.5},children:[Object(_.jsxs)("div",{children:[Object(_.jsx)(R.a,{noWrap:!0,variant:"subtitle1",children:null===e||void 0===e?void 0:e.displayName}),Object(_.jsx)(R.a,{noWrap:!0,variant:"body2",sx:{color:"text.secondary"},children:null===e||void 0===e?void 0:e.email})]}),Object(_.jsx)(Je.a,{title:"Log out",children:Object(_.jsx)(p.a,{color:"error",children:Object(_.jsx)(v.a,{icon:"ic:round-power-settings-new",width:20,height:20})})})]}),Object(_.jsx)(O.a,{}),Object(_.jsxs)(Q.a,{sx:{px:1,"& .MuiMenuItem-root":{py:1,px:2,typography:"body2",borderRadius:.75}},children:[Object(_.jsxs)(Ke.a,{children:[Object(_.jsx)(Z,{size:"large",status:r,sx:{m:.5,flexShrink:0}}),Object(_.jsx)(Xe.a,{native:!0,fullWidth:!0,value:r,onChange:function(e){return i(e.target.value)},sx:{ml:2,"& svg":{display:"none"},"& select":{p:0,typography:"body2"},"& fieldset":{display:"none"}},children:tt.map((function(e){return Object(_.jsx)("option",{value:e,children:Object(we.a)(e)},e)}))})]}),Object(_.jsxs)(Ke.a,{children:[Object(_.jsx)(v.a,{icon:"ic:round-account-box",sx:Object(b.a)({},d)}),"Profile"]}),Object(_.jsxs)(Ke.a,{children:[Object(_.jsx)(v.a,{icon:"eva:settings-2-fill",sx:Object(b.a)({},d)}),"Settings"]})]})]})]})}var at=n(50);function rt(e){var t=e.query,n=e.results,a=e.onSelectContact,r=n.length>0;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(R.a,{paragraph:!0,variant:"subtitle1",sx:{px:3,color:"text.secondary"},children:"Contacts"}),Object(_.jsx)(Q.a,{disablePadding:!0,children:n.map((function(e){return Object(_.jsxs)(V.a,{onClick:function(){return a(e)},sx:{py:1.5,px:3},children:[Object(_.jsx)(Y.a,{children:Object(_.jsx)(B.a,{alt:e.name,src:e.avatar})}),Object(_.jsx)(J.a,{primary:e.name,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"}})]},e.id)}))}),!r&&Object(_.jsx)(qe.a,{searchQuery:t,sx:{p:3,mx:"auto",width:"calc(100% - 48px)",bgcolor:"background.neutral"}})]})}var it=n(1230),ct=n(1348);function ot(e){var t=e.query,n=e.onChange,a=e.onFocus,r=e.onClickAway;return Object(_.jsx)(it.a,{onClickAway:r,children:Object(_.jsx)(ct.a,{fullWidth:!0,size:"small",value:t,onFocus:a,onChange:n,placeholder:"Search contacts...",InputProps:{startAdornment:Object(_.jsx)(Te.a,{position:"start",children:Object(_.jsx)(v.a,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})},sx:{mt:2}})})}var st=n(1355),lt=Object(h.a)(V.a)((function(e){var t=e.theme;return{padding:t.spacing(1.5,3),transition:t.transitions.create("all")}})),dt=Object(h.a)("div")({position:"relative",width:48,height:48,"& .MuiAvatar-img":{borderRadius:"50%"},"& .MuiAvatar-root":{width:"100%",height:"100%"}});function jt(e){var t=e.isSelected,n=e.conversation,a=e.isOpenSidebar,r=e.onSelectConversation,i=function(e,t){var n=e.participants.filter((function(e){return e.id!==t})),a=n.reduce((function(e,t){return[].concat(Object(L.a)(e),[t.name])}),[]).join(", "),r="",i=e.messages[e.messages.length-1];if(i){var c=i.senderId===t?"You: ":"",o="image"===i.contentType?"Sent a photo":i.body;r="".concat(c).concat(o)}return{otherParticipants:n,displayNames:a,displayText:r}}(n,"8864c717-587d-472a-929a-8e5f298024da-0"),c=n.messages[n.messages.length-1].createdAt,o=i.otherParticipants.length>1,s=n.unreadCount>0,l=o&&i.otherParticipants.map((function(e){return e.status})).includes("online");return Object(_.jsxs)(lt,{onClick:r,sx:Object(b.a)({},t&&{bgcolor:"action.selected"}),children:[Object(_.jsx)(Y.a,{children:Object(_.jsxs)(f.a,{sx:Object(b.a)({},o&&{position:"relative",width:48,height:48,"& .avatarWrapper":{position:"absolute",width:32,height:32,"&:nth-of-type(1)":{left:0,zIndex:9,bottom:2,"& .MuiAvatar-root":{border:function(e){return"solid 2px ".concat(e.palette.background.paper)}}},"&:nth-of-type(2)":{top:2,right:0}}}),children:[i.otherParticipants.slice(0,2).map((function(e){return Object(_.jsxs)(dt,{className:"avatarWrapper",children:[Object(_.jsx)(B.a,{alt:e.name,src:e.avatar}),!o&&Object(_.jsx)(Z,{status:e.status,sx:{right:2,bottom:2,position:"absolute"}})]},e.id)})),l&&Object(_.jsx)(Z,{status:"online",sx:{right:2,bottom:2,position:"absolute"}})]})}),a&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(J.a,{primary:i.displayNames,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:i.displayText,secondaryTypographyProps:{noWrap:!0,variant:s?"subtitle2":"body2",color:s?"textPrimary":"textSecondary"}}),Object(_.jsxs)(f.a,{sx:{ml:2,height:44,display:"flex",alignItems:"flex-end",flexDirection:"column"},children:[Object(_.jsx)(f.a,{sx:{mb:1.25,fontSize:12,lineHeight:"22px",whiteSpace:"nowrap",color:"text.disabled"},children:Object(pe.a)(new Date(c),{addSuffix:!1})}),s&&Object(_.jsx)(Z,{status:"unread",size:"small"})]})]})]})}var ut=["conversations","isOpenSidebar","activeConversationId","sx"];function bt(e){var t=e.conversations,n=e.isOpenSidebar,a=e.activeConversationId,r=e.sx,i=Object(K.a)(e,ut),c=Object(be.g)(),o=!t.allIds.length;return Object(_.jsx)(Q.a,Object(b.a)(Object(b.a)({disablePadding:!0,sx:r},i),{},{children:(o?Object(L.a)(Array(12)):t.allIds).map((function(e,r){return e?Object(_.jsx)(jt,{isOpenSidebar:n,conversation:t.byId[e],isSelected:a===e,onSelectConversation:function(){return function(e){var n="",a=t.byId[e];if("GROUP"===a.type)n=a.id;else{var r=a.participants.find((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));null!==r&&void 0!==r&&r.username&&(n=null===r||void 0===r?void 0:r.username)}c("".concat(s.b.chat.root,"/").concat(n))}(e)}},e):Object(_.jsx)(st.a,{},r)}))}))}var ht=Object(h.a)((function(e){return Object(_.jsx)(p.a,Object(b.a)({disableRipple:!0},e))}))((function(e){var t=e.theme;return{left:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(13),borderRadius:"0 12px 12px 0",color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,boxShadow:t.customShadows.primary,"&:hover":{backgroundColor:t.palette.primary.darker}}}));function xt(){var e=Object(x.a)(),t=Object(be.g)(),n=Object(be.f)().pathname,r=Object(a.useState)(!0),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(""),j=Object(u.a)(d,2),h=j[0],O=j[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],C=w[1],I=Object(a.useState)(!1),S=Object(u.a)(I,2),R=S[0],M=S[1],P=Object(c.e)((function(e){return e.chat})),W=P.conversations,z=P.activeConversationId,A=Object(m.a)("up","md"),D=h&&R,F=A&&!o;Object(a.useEffect)((function(){return A?E():L()}),[A,n]),Object(a.useEffect)((function(){if(!o)return M(!1)}),[o]);var E=function(){l(!0)},L=function(){l(!1)},B=function(){l((function(e){return!e}))},G=function(){var e=Object(de.a)(ue.a.mark((function e(t){var n,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.value,O(n),!n){e.next=10;break}return e.next=6,at.a.get("/api/chat/search",{params:{query:n}});case 6:a=e.sent,C(a.data.results),e.next=11;break;case 10:C([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){M(!1),O(""),t("".concat(s.b.chat.root,"/").concat(e))},U=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(f.a,{sx:{py:2,px:3},children:[Object(_.jsxs)(he.a,{direction:"row",alignItems:"center",justifyContent:"center",children:[!F&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(nt,{}),Object(_.jsx)(f.a,{sx:{flexGrow:1}})]}),Object(_.jsx)(p.a,{onClick:B,children:Object(_.jsx)(v.a,{width:20,height:20,icon:o?"eva:arrow-ios-back-fill":"eva:arrow-ios-forward-fill"})}),!F&&Object(_.jsx)(p.a,{onClick:function(){return t(s.b.chat.new)},children:Object(_.jsx)(v.a,{icon:"eva:edit-fill",width:20,height:20})})]}),!F&&Object(_.jsx)(ot,{query:h,onFocus:function(){M(!0)},onChange:G,onClickAway:function(){M(!1),O("")}})]}),Object(_.jsx)(T.a,{children:D?Object(_.jsx)(rt,{query:h,results:k,onSelectContact:function(e){N&&N(e.username)}}):Object(_.jsx)(bt,{conversations:W,isOpenSidebar:o,activeConversationId:z,sx:Object(b.a)({},R&&{display:"none"})})})]});return Object(_.jsxs)(_.Fragment,{children:[!A&&Object(_.jsx)(ht,{onClick:B,children:Object(_.jsx)(v.a,{width:16,height:16,icon:"eva:people-fill"})}),A?Object(_.jsx)(g.a,{open:o,variant:"persistent",sx:Object(b.a)({width:320,transition:e.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",width:320}},F&&{width:96,"& .MuiDrawer-paper":{width:96,position:"static",transform:"none !important",visibility:"visible !important"}}),children:U}):Object(_.jsx)(g.a,{ModalProps:{keepMounted:!0},open:o,onClose:L,sx:{"& .MuiDrawer-paper":{width:320}},children:U})]})}function pt(){var e=Object(l.a)().themeStretch,t=Object(c.d)();return Object(a.useEffect)((function(){t(Object(o.e)()),t(Object(o.c)())}),[t]),Object(_.jsx)(d.a,{title:"Chat",children:Object(_.jsxs)(r.a,{maxWidth:!e&&"xl",children:[Object(_.jsx)(j.a,{heading:"Chat",links:[{name:"Dashboard",href:s.b.root},{name:"Chat"}]}),Object(_.jsxs)(i.a,{sx:{height:"72vh",display:"flex"},children:[Object(_.jsx)(xt,{}),Object(_.jsx)(Ye,{})]})]})})}}}]);
//# sourceMappingURL=29.ca3226a9.chunk.js.map