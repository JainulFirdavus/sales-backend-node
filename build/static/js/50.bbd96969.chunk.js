(this["webpackJsonpsales-tracker"]=this["webpackJsonpsales-tracker"]||[]).push([[50],{1339:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(3),c=a(25),r=a(128),o=a.n(r),i=a(125),s=a(322),l=a(1238),u=a(39),p=a(1357),d=a(0),h=["links","activeLast"];function b(e){var t=e.links,a=e.activeLast,r=void 0!==a&&a,o=Object(c.a)(e,h),l=t[t.length-1].name,u=t.map((function(e){return Object(d.jsx)(j,{link:e},e.name)})),b=t.map((function(e){return Object(d.jsx)("div",{children:e.name!==l?Object(d.jsx)(j,{link:e}):Object(d.jsx)(s.a,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name)}));return Object(d.jsx)(p.a,Object(n.a)(Object(n.a)({separator:Object(d.jsx)(i.a,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},o),{},{children:r?u:b}))}function j(e){var t=e.link,a=t.href,n=t.name,c=t.icon;return Object(d.jsxs)(l.a,{variant:"body2",component:u.b,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[c&&Object(d.jsx)(i.a,{sx:{mr:1,"& svg":{width:20,height:20}},children:c}),n]},n)}var f=["links","action","heading","moreLink","sx"];function m(e){var t=e.links,a=e.action,r=e.heading,u=e.moreLink,p=void 0===u?[]:u,h=e.sx,j=Object(c.a)(e,f);return Object(d.jsxs)(i.a,{sx:Object(n.a)({mb:5},h),children:[Object(d.jsxs)(i.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(i.a,{sx:{flexGrow:1},children:[Object(d.jsx)(s.a,{variant:"h4",gutterBottom:!0,children:r}),Object(d.jsx)(b,Object(n.a)({links:t},j))]}),a&&Object(d.jsx)(i.a,{sx:{flexShrink:0},children:a})]}),Object(d.jsx)(i.a,{sx:{mt:2},children:o()(p)?Object(d.jsx)(l.a,{href:p,target:"_blank",rel:"noopener",variant:"body2",children:p}):p.map((function(e){return Object(d.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},1357:function(e,t,a){"use strict";var n=a(21),c=a(11),r=a(4),o=a(2),i=a(5),s=a(1),l=(a(206),a(7),a(8)),u=a(149),p=a(6),d=a(14),h=a(322),b=a(47),j=a(45),f=a(0),m=Object(j.a)(Object(f.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),O=a(645),g=Object(p.a)(O.a,{skipSx:!0})((function(e){var t=e.theme;return Object(o.a)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":Object(o.a)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":Object(o.a)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:Object(b.c)(t.palette.grey[200],.12)}:{backgroundColor:Object(b.c)(t.palette.grey[600],.12)})})})),x=Object(p.a)(m)({width:24,height:16});var y=function(e){var t=e;return Object(f.jsx)("li",{children:Object(f.jsx)(g,Object(o.a)({focusRipple:!0},e,{ownerState:t,children:Object(f.jsx)(x,{ownerState:t})}))})},v=a(87),k=a(88);function S(e){return Object(v.a)("MuiBreadcrumbs",e)}var w=Object(k.a)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],B=Object(p.a)(h.a,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[Object(r.a)({},"& .".concat(w.li),t.li),t.root]}})({}),R=Object(p.a)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),L=Object(p.a)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function N(e,t,a,n){return e.reduce((function(c,r,o){return o<e.length-1?c=c.concat(r,Object(f.jsx)(L,{"aria-hidden":!0,className:t,ownerState:n,children:a},"separator-".concat(o))):c.push(r),c}),[])}var q=s.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiBreadcrumbs"}),r=a.children,p=a.className,h=a.component,b=void 0===h?"nav":h,j=a.expandText,m=void 0===j?"Show path":j,O=a.itemsAfterCollapse,g=void 0===O?1:O,x=a.itemsBeforeCollapse,v=void 0===x?1:x,k=a.maxItems,w=void 0===k?8:k,L=a.separator,q=void 0===L?"/":L,E=Object(i.a)(a,C),M=s.useState(!1),A=Object(c.a)(M,2),I=A[0],P=A[1],_=Object(o.a)({},a,{component:b,expanded:I,expandText:m,itemsAfterCollapse:g,itemsBeforeCollapse:v,maxItems:w,separator:q}),D=function(e){var t=e.classes;return Object(u.a)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},S,t)}(_),T=s.useRef(null),z=s.Children.toArray(r).filter((function(e){return s.isValidElement(e)})).map((function(e,t){return Object(f.jsx)("li",{className:D.li,children:e},"child-".concat(t))}));return Object(f.jsx)(B,Object(o.a)({ref:t,component:b,color:"text.secondary",className:Object(l.a)(D.root,p),ownerState:_},E,{children:Object(f.jsx)(R,{className:D.ol,ref:T,ownerState:_,children:N(I||w&&z.length<=w?z:function(e){return v+g>=e.length?e:[].concat(Object(n.a)(e.slice(0,v)),[Object(f.jsx)(y,{"aria-label":m,onClick:function(){P(!0);var e=T.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],Object(n.a)(e.slice(e.length-g,e.length)))}(z),D.separator,q,_)})}))}));t.a=q},1467:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return y}));var n=a(29),c=a(3),r=a(21),o=a(17),i=a.n(o),s=a(96),l=a(435),u=a.n(l),p=a(442),d=a.n(p),h=a(100),b=a.n(h),j=a(23),f=a(22),m=Object(s.b)({name:"company",initialState:{isLoading:!1,error:null,companys:[],company:null,sortBy:null,filters:{gender:[],category:"All",colors:[],priceRange:"",rating:""},checkout:{activeStep:0,cart:[],subtotal:0,total:0,discount:0,shipping:0,billing:null}},reducers:{startLoading:function(e){e.isLoading=!0},hasError:function(e,t){e.isLoading=!1,e.error=t.payload},getcompanysSuccess:function(e,t){e.isLoading=!1,e.companys=t.payload},getcompanySuccess:function(e,t){e.isLoading=!1,e.company=t.payload},sortBycompanys:function(e,t){e.sortBy=t.payload},filtercompanys:function(e,t){e.filters.gender=t.payload.gender,e.filters.category=t.payload.category,e.filters.colors=t.payload.colors,e.filters.priceRange=t.payload.priceRange,e.filters.rating=t.payload.rating},getCart:function(e,t){var a=t.payload,n=u()(a.map((function(e){return e.price*e.quantity}))),c=0===a.length?0:e.checkout.discount,r=0===a.length?0:e.checkout.shipping,o=0===a.length?null:e.checkout.billing;e.checkout.cart=a,e.checkout.discount=c,e.checkout.shipping=r,e.checkout.billing=o,e.checkout.subtotal=n,e.checkout.total=n-c},addCart:function(e,t){var a=t.payload,n=0===e.checkout.cart.length;e.checkout.cart=n?[].concat(Object(r.a)(e.checkout.cart),[a]):e.checkout.cart.map((function(e){return e.id===a.id?Object(c.a)(Object(c.a)({},e),{},{quantity:e.quantity+1}):e})),e.checkout.cart=d()([].concat(Object(r.a)(e.checkout.cart),[a]),"id")},deleteCart:function(e,t){var a=e.checkout.cart.filter((function(e){return e.id!==t.payload}));e.checkout.cart=a},resetCart:function(e){e.checkout.activeStep=0,e.checkout.cart=[],e.checkout.total=0,e.checkout.subtotal=0,e.checkout.discount=0,e.checkout.shipping=0,e.checkout.billing=null},onBackStep:function(e){e.checkout.activeStep-=1},onNextStep:function(e){e.checkout.activeStep+=1},onGotoStep:function(e,t){var a=t.payload;e.checkout.activeStep=a},increaseQuantity:function(e,t){var a=t.payload,n=e.checkout.cart.map((function(e){return e.id===a?Object(c.a)(Object(c.a)({},e),{},{quantity:e.quantity+1}):e}));e.checkout.cart=n},decreaseQuantity:function(e,t){var a=t.payload,n=e.checkout.cart.map((function(e){return e.id===a?Object(c.a)(Object(c.a)({},e),{},{quantity:e.quantity-1}):e}));e.checkout.cart=n},createBilling:function(e,t){e.checkout.billing=t.payload},applyDiscount:function(e,t){var a=t.payload;e.checkout.discount=a,e.checkout.total=e.checkout.subtotal-a},applyShipping:function(e,t){var a=t.payload;e.checkout.shipping=a,e.checkout.total=e.checkout.subtotal-e.checkout.discount+a}}}),O=(m.reducer,m.actions);O.getCart,O.addCart,O.resetCart,O.onGotoStep,O.onBackStep,O.onNextStep,O.deleteCart,O.createBilling,O.applyShipping,O.applyDiscount,O.increaseQuantity,O.decreaseQuantity,O.sortBycompanys,O.filtercompanys;function g(e,t,a,n,c){return x.apply(this,arguments)}function x(){return(x=Object(n.a)(i.a.mark((function e(t,a,n,c,r){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(f.b,"dealers/list"),{skip:t,limit:a,search:n,from:c,to:r});case 3:return o=e.sent,e.abrupt("return",o.data.response);case 7:e.prev=7,e.t0=e.catch(0),Object(j.a)(m.actions.hasError(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=Object(n.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(f.b,"dealers/Details"),{_id:t});case 3:return a=e.sent,e.abrupt("return",a.data.response);case 7:e.prev=7,e.t0=e.catch(0),Object(j.a)(m.actions.hasError(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},2092:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(29),c=a(11),r=a(17),o=a.n(r),i=a(1),s=a(35),l=a(1318),u=a(1467),p=a(28),d=a(59),h=a(424),b=a(1339),j=a(3),f=a(244),m=a(246),O=a(34),g=a(426),x=a(6),y=a(1335),v=a(100),k=a.n(v),S=a(322),w=a(1314),C=a(1334),B=a(1223),R=a(125),L=(a(1428),a(22)),N=a(207),q=a(0),E=Object(x.a)(S.a)((function(e){var t=e.theme;return Object(j.a)(Object(j.a)({},t.typography.subtitle2),{},{color:t.palette.text.secondary,marginBottom:t.spacing(1)})}));function M(e){var t=e.isEdit,a=e.currentProduct,c=Object(s.g)(),r=Object(m.b)().enqueueSnackbar,l=f.b().shape({}),u=Object(i.useMemo)((function(){return{_id:(null===a||void 0===a?void 0:a._id)||"",name:(null===a||void 0===a?void 0:a.name)||"",phone:(null===a||void 0===a?void 0:a.phone)||"",address:(null===a||void 0===a?void 0:a.address)||"",tin:(null===a||void 0===a?void 0:a.tin)||"",postal:(null===a||void 0===a?void 0:a.postal)||""}}),[a]),d=Object(O.f)({resolver:Object(g.a)(l),defaultValues:u}),h=d.reset,b=d.watch,j=d.setValue,x=d.getValues,v=d.handleSubmit,S=d.formState.isSubmitting,M=b();Object(i.useEffect)((function(){t&&a&&h(u),t||h(u)}),[t,a]);var A=function(){var e=Object(n.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("try",M),""===M._id&&delete M._id,e.prev=2,e.next=5,new Promise((function(e){return setTimeout(e,500)}));case 5:return e.next=7,k.a.post("".concat(L.b,"dealers/save"),M).then((function(e){console.log(e),1===e.data.status?(h(),r(t?"Update success!":"Create success!"),c(p.b.company.list)):r("Company already exist",{variant:"error"})}),(function(e){console.log(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(n.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),k.a.post("".concat(L.b,"dealers/Details"),{phone:t}).then((function(e){t===e.data.phone&&(r("Phone is already exist",{variant:"error"}),j("phone",""))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsx)(N.a,{methods:d,onSubmit:v(A),children:Object(q.jsx)(w.a,{container:!0,spacing:3,children:Object(q.jsx)(w.a,{item:!0,xs:12,md:8,children:Object(q.jsxs)(C.a,{sx:{p:4},children:[Object(q.jsx)(E,{children:"Purchase Details"}),Object(q.jsxs)(B.a,{spacing:3,children:[Object(q.jsxs)(R.a,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[Object(q.jsx)(N.i,{name:"name",label:"Name"}),Object(q.jsx)(N.i,{name:"phone",label:"Phone",onBlur:function(e){I(x("phone"))}}),Object(q.jsx)(N.i,{name:"address",label:"Address"}),Object(q.jsx)(N.i,{name:"tin",label:"TIN"}),Object(q.jsx)(N.i,{name:"postal",label:"PostalCode"})]}),Object(q.jsx)(E,{children:"Action"}),Object(q.jsx)(R.a,{sx:{alignSelf:"right"},children:Object(q.jsx)(y.a,{type:"submit",variant:"contained",size:"large",loading:S,children:t?"Save Changes":"Create "})})]})]})})})})}function A(){var e=Object(d.a)().themeStretch,t=Object(s.f)().pathname,a=Object(s.h)().name,r=t.includes("edit"),j=Object(i.useState)({}),f=Object(c.a)(j,2),m=f[0],O=f[1];return Object(i.useEffect)((function(){function e(){return(e=Object(n.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,Object(u.a)(a);case 3:t=e.sent,O(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(q.jsx)(h.a,{title:"Comapany: Create a new Company",children:Object(q.jsxs)(l.a,{maxWidth:!e&&"lg",children:[Object(q.jsx)(b.a,{heading:r?"Edit Company":"Create a new Comapny",links:[{name:"Dashboard",href:p.b.root},{name:"Company",href:p.b.company.list},{name:r?"".concat(m.name):"New "}]}),Object(q.jsx)(M,{isEdit:r,currentProduct:m})]})})}}}]);
//# sourceMappingURL=50.bbd96969.chunk.js.map